import{a as x,b as ct,f as mt,g as st,h as lt,i as pt,l as ut}from"./chunk-UTZHDBAS.js";import{D as S,E as b,H as v,I as rt,J as it,K as dt,L as ot,M as nt,a as K,b as Q,c as U,d as W,e as Y,f as Z,g as tt,h as et,i as at}from"./chunk-2M5VA6EM.js";import{k as X,n as J}from"./chunk-KQXCTLGB.js";import"./chunk-WXI33M2S.js";import{Ab as g,C as k,Gb as n,Hb as $,Ib as F,Kb as p,Mb as q,Ta as s,U as I,Ua as j,_ as O,aa as E,da as c,ia as m,ic as H,j as A,ja as T,jb as P,ka as _,lb as h,mb as M,ob as N,pb as z,qb as L,ra as y,rb as R,sa as C,sb as o,tb as d,u as B,ub as V,vb as G,xb as l,yb as w,zb as D}from"./chunk-PPMLOB7I.js";var Ct=["*"];var Mt=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],wt=["[mat-card-avatar], [matCardAvatar]",`mat-card-title, mat-card-subtitle,
      [mat-card-title], [mat-card-subtitle],
      [matCardTitle], [matCardSubtitle]`,"*"],Dt=new E("MAT_CARD_CONFIG"),gt=(()=>{let t=class t{constructor(r){this.appearance=r?.appearance||"raised"}};t.\u0275fac=function(e){return new(e||t)(j(Dt,8))},t.\u0275cmp=m({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(e,i){e&2&&M("mat-mdc-card-outlined",i.appearance==="outlined")("mdc-card--outlined",i.appearance==="outlined")},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[p],ngContentSelectors:Ct,decls:1,vars:0,template:function(e,i){e&1&&(D(),g(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0});let a=t;return a})(),ht=(()=>{let t=class t{};t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=_({type:t,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"],standalone:!0});let a=t;return a})();var bt=(()=>{let t=class t{constructor(){this.align="start"}};t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=_({type:t,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(e,i){e&2&&M("mat-mdc-card-actions-align-end",i.align==="end")},inputs:{align:"align"},exportAs:["matCardActions"],standalone:!0});let a=t;return a})(),vt=(()=>{let t=class t{};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=m({type:t,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],standalone:!0,features:[p],ngContentSelectors:wt,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(e,i){e&1&&(D(Mt),g(0),o(1,"div",0),g(2,1),d(),g(3,2))},encapsulation:2,changeDetection:0});let a=t;return a})();var xt=(()=>{let t=class t{};t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=T({type:t}),t.\u0275inj=O({imports:[S,H,S]});let a=t;return a})();function At(a,t){a&1&&(o(0,"mat-error"),n(1,"Please enter a valid name"),d())}var _t=(()=>{let t=class t{constructor(){this.dialogRef=c(mt),this.fb=c(et),this.boardService=c(x),this.data=c(st),this.addBoardForm=this.fb.group({name:this.fb.control(this.data.board?.name,[Q.required])})}createOrEditBoard(){this.addBoardForm.invalid||(this.data.board?.id?this._updateBoard():this._createBoard())}_updateBoard(){this.boardService.updateBoard(this.data.board?.id,this.addBoardForm.value).subscribe(r=>{this.dialogRef.close(r)})}_createBoard(){this.boardService.createBoard(this.addBoardForm.value).subscribe(r=>{this.dialogRef.close(r)})}closeDialog(){this.dialogRef.close()}};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=m({type:t,selectors:[["app-add-board"]],standalone:!0,features:[p],decls:13,vars:4,consts:[[3,"formGroup"],["matInput","","formControlName","name","placeholder","Ex. My board"],[1,"button-group"],["mat-flat-button","","color","primary",3,"click"],["mat-flat-button","","color","secondary",3,"click"]],template:function(e,i){e&1&&(o(0,"form",0)(1,"h1"),n(2),d(),o(3,"mat-form-field")(4,"mat-label"),n(5,"Name"),d(),V(6,"input",1),P(7,At,2,0,"mat-error"),d(),o(8,"div",2)(9,"button",3),l("click",function(){return i.createOrEditBoard()}),n(10),d(),o(11,"button",4),l("click",function(){return i.closeDialog()}),n(12," Close dialog "),d()()()),e&2&&(h("formGroup",i.addBoardForm),s(2),F("",i.data.board!=null&&i.data.board.id?"Edit":"Add"," board"),s(5),N(7,i.addBoardForm.controls.name.hasError("required")?-1:7),s(3),F(" ",i.data.board!=null&&i.data.board.id?"Edit":"Add"," board "))},dependencies:[at,Y,K,U,W,Z,tt,nt,ot,dt,rt,it,v,b],styles:["[_nghost-%COMP%]{display:block;padding:24px}"]});let a=t;return a})();var Bt=a=>["/boards",a];function kt(a,t){if(a&1){let f=G();o(0,"a",1)(1,"mat-card")(2,"mat-card-header")(3,"mat-card-title"),n(4),d()(),o(5,"mat-card-actions")(6,"button",3),l("click",function(e){let i=y(f).$implicit,u=w();return C(u.openNewBoardFlow(e,i))}),n(7," Edit "),d(),o(8,"button",3),l("click",function(e){let i=y(f).$implicit,u=w();return C(u.deleteBoard(e,i))}),n(9,"Delete"),d()()()()}if(a&2){let f=t.$implicit;h("routerLink",q(2,Bt,f.id)),s(4),$(f.name)}}var le=(()=>{let t=class t{constructor(){this.dialog=c(lt),this.boardService=c(x),this.refetch$=new A,this.boards=ct(this.refetch$.asObservable().pipe(I(()=>this.boardService.getBoards())))}ngOnInit(){this.refetch$.next()}openNewBoardFlow(r,e){r.stopImmediatePropagation(),r.preventDefault(),this.dialog.open(_t,{width:"400px",data:{board:e}}).afterClosed().subscribe(i=>{i&&this.refetch$.next()})}deleteBoard(r,e){r.stopImmediatePropagation(),r.preventDefault(),this.dialog.open(ut,{data:{title:"Delete Board",message:"Are you sure you want to delete this board?"}}).afterClosed().pipe(k(i=>i),B(()=>this.boardService.deleteBoard(e.id))).subscribe(()=>this.refetch$.next())}};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=m({type:t,selectors:[["app-list"]],standalone:!0,features:[p],decls:7,vars:0,consts:[[1,"board-wrapper"],[1,"board",3,"routerLink"],["mat-flat-button","","color","primary",3,"click"],["mat-button","",3,"click"]],template:function(e,i){e&1&&(o(0,"h1"),n(1,"My boards"),d(),o(2,"div",0),L(3,kt,10,4,"a",1,z),d(),o(5,"button",2),l("click",function(yt){return i.openNewBoardFlow(yt)}),n(6,` Add a board
`),d()),e&2&&(s(3),R(i.boards()))},dependencies:[J,X,xt,gt,bt,vt,ht,v,b,pt],styles:["[_nghost-%COMP%]   .board-wrapper[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:0 -10px}[_nghost-%COMP%]   .board-wrapper[_ngcontent-%COMP%]   .board[_ngcontent-%COMP%]{all:unset;box-sizing:border-box;width:calc(25% - 20px);padding:10px;flex-grow:0;flex-shrink:0;height:100%;display:flex;cursor:pointer}[_nghost-%COMP%]   .board-wrapper[_ngcontent-%COMP%]   .board[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{padding:8px 8px 24px;width:100%}@media (max-width: 1280px){[_nghost-%COMP%]   .board-wrapper[_ngcontent-%COMP%]   .board[_ngcontent-%COMP%]{width:calc(25% - 20px)}}@media (max-width: 768px){[_nghost-%COMP%]   .board-wrapper[_ngcontent-%COMP%]   .board[_ngcontent-%COMP%]{width:calc(100% - 20px)}}[_nghost-%COMP%]   button[_ngcontent-%COMP%]{margin-top:20px}"]});let a=t;return a})();export{le as ListComponent};
