import{a as P}from"./chunk-HD3E7OK4.js";import{a as C}from"./chunk-UDSKBG7N.js";import{E as T,H as q,I as R,J as B,K as D,L as G,M as I,a as _,b as s,c as M,d as x,e as L,f as y,g as N,h as w,i as k}from"./chunk-2M5VA6EM.js";import{j as S,k as b,n as F}from"./chunk-KQXCTLGB.js";import"./chunk-WXI33M2S.js";import{Gb as o,Kb as v,Lb as E,Ta as a,da as m,ia as g,jb as p,lb as c,ob as l,sb as i,tb as e,ub as f,xb as h}from"./chunk-PPMLOB7I.js";var V=()=>["/register"];function A(t,r){t&1&&(i(0,"mat-error"),o(1,"Please enter a valid email address"),e())}function U(t,r){t&1&&(i(0,"mat-error"),o(1,"Email is "),i(2,"strong"),o(3,"required"),e()())}function j(t,r){t&1&&(i(0,"mat-error"),o(1,"Please enter a valid password"),e())}function z(t,r){t&1&&(i(0,"mat-error"),o(1,"Min length is 8 chars"),e())}var ne=(()=>{let r=class r{constructor(){this.userService=m(P),this.authService=m(C),this.router=m(S),this.fb=m(w),this.loginForm=this.fb.group({email:this.fb.control("",[s.required,s.email]),password:this.fb.control("",[s.required,s.minLength(8)])})}login(){this.loginForm.invalid||this.userService.login(this.loginForm.value).subscribe(u=>{this.authService.token=u.accessToken,this.router.navigateByUrl("/boards")})}};r.\u0275fac=function(d){return new(d||r)},r.\u0275cmp=g({type:r,selectors:[["app-login"]],standalone:!0,features:[v],decls:20,vars:7,consts:[[1,"small-centered-form",3,"formGroup"],["type","email","matInput","","formControlName","email","placeholder","Ex. pat@example.com"],["type","password","matInput","","formControlName","password"],["mat-flat-button","","color","primary",3,"click"],[3,"routerLink"],["tabindex","-1","mat-flat-button","","color","secondary"]],template:function(d,n){d&1&&(i(0,"form",0)(1,"h1"),o(2,"Login"),e(),i(3,"mat-form-field")(4,"mat-label"),o(5,"Email"),e(),f(6,"input",1),p(7,A,2,0,"mat-error")(8,U,4,0,"mat-error"),e(),i(9,"mat-form-field")(10,"mat-label"),o(11,"Password"),e(),f(12,"input",2),p(13,j,2,0,"mat-error")(14,z,2,0,"mat-error"),e(),i(15,"button",3),h("click",function(){return n.login()}),o(16,"Log in"),e(),i(17,"a",4)(18,"button",5),o(19," Not a member? Register now. "),e()()()),d&2&&(c("formGroup",n.loginForm),a(7),l(7,n.loginForm.controls.email.hasError("email")&&!n.loginForm.controls.email.hasError("required")?7:-1),a(),l(8,n.loginForm.controls.email.hasError("required")?8:-1),a(5),l(13,n.loginForm.controls.password.hasError("required")?-1:13),a(),l(14,n.loginForm.controls.password.hasError("minlength")?-1:14),a(3),c("routerLink",E(6,V)))},dependencies:[I,G,D,R,B,k,L,_,M,x,y,N,q,T,F,b]});let t=r;return t})();export{ne as LoginComponent};
